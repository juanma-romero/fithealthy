(function(a){'use strict';jQuery(document).ready(function(){function b(){a('body').toggleClass('cart-active')}function c(f){!f||(a('#zoo-add-to-cart-message')[0]?a('#zoo-add-to-cart-message').replaceWith(f):a('body').append(f),setTimeout(function(){a('#zoo-add-to-cart-message').addClass('active')},100),setTimeout(function(){a('#zoo-add-to-cart-message').removeClass('active')},3500))}function d(f,g,h,j){var l='',m=f.length;0<f.indexOf('#')&&(m=f.indexOf('#'),l=f.substring(f.indexOf('#'),f.length));var n=f.substring(0,m),o=n.split('?'),p='';if(1<o.length)for(var s,q=o[1].split('&'),r=0;r<q.length;r++)s=q[r].split('='),s[0]==g||(''==p?p='?':p+='&',p+=s[0]+'='+(s[1]?s[1]:''));return''==p&&(p='?'),j?p='?'+g+'='+h+(1<p.length?'&'+p.substring(1):''):(''!=p&&'?'!=p&&(p+='&'),p+=g+'='+(h?h:'')),o[0]+p+l}return(a(document).on('click','.wrap-icon-cart, .mask-close, .close',function(f){f.preventDefault(),b()}),a(document).bind('cleverswatch_before_add_to_cart',function(){b(),a('.wrap-mini-cart').addClass('loading')}),'undefined'!=typeof wc_add_to_cart_params)&&void(a(document).on('click','.mini_cart_item .remove',function(f){f.preventDefault();var g=a(this),h=g.data('product_id');return g.parents('.mini_cart_item').addClass('loading'),a.ajax({type:'POST',dataType:'json',url:wc_add_to_cart_params.ajax_url,data:{action:'cart_remove_product',product_key:h},error:function(j,k,l){console.log('AJAX Remove '+l)},success:function(j){var k=a('.wrap-mini-cart');k.find('.pre-remove').addClass('removed'),g.parents('.mini_cart_item').addClass('pre-remove'),k.find('.removed').fadeOut(),0==j.cart_count?k.find('.wrap-bottom-cart').fadeOut():(k.find('.total .woocommerce-Price-amount').replaceWith(j.cart_subtotal),a('.zoo-mini-cart.cart-notice-active .free-shipping-required-notice').replaceWith(j.free_shipping_cart_notice)),a('.total-cart').html(j.cart_subtotal),a('.top-cart-total span').html(j.cart_count),a('.sticky-cart .top-cart-total').html(j.cart_count),g.parents('.mini_cart_item').removeClass('loading'),setTimeout(function(){k.find('.removed').remove()},500)}}),!1}),a(document).on('click','.mini_cart_item .revert-cart-item',function(f){f.preventDefault();var g=a(this),h=g.data('cart_item_key');return g.parents('.mini_cart_item').addClass('loading'),a.ajax({type:'POST',dataType:'json',url:wc_add_to_cart_params.ajax_url,data:{action:'restore_cart_item',cart_item_key:h},error:function(j,k,l){console.log('AJAX Restore '+l),console.log('AJAX Restore '+h)},success:function(j){var k=a('.wrap-mini-cart');g.parents('.mini_cart_item').removeClass('pre-remove'),k.find('.total .woocommerce-Price-amount').replaceWith(j.cart_subtotal),k.find('.wrap-bottom-cart').is(':visible')||k.find('.wrap-bottom-cart').fadeIn(),a('.total-cart').html(j.cart_subtotal),a('.top-cart-total span').html(j.cart_count),a('.sticky-cart .top-cart-total').html(j.cart_count),a('.zoo-mini-cart.cart-notice-active .free-shipping-required-notice').replaceWith(j.free_shipping_cart_notice),g.parents('.mini_cart_item').removeClass('loading')}}),!1}),a(document).on('click','.add_to_cart_button:not(.product_type_variable)',function(){b(),a('.wrap-mini-cart').addClass('loading')}),a(document).bind('added_to_cart',function(f,g){var k=a(g['#top-cart']);k=k.find('.top-cart-total'),a('#mini-top-cart .top-cart-total').replaceWith(k),c(g.zoo_add_to_cart_message)}),a(document).on('click','button.single_add_to_cart_button',function(f){var g=a(this),h=g.closest('form'),j={product_id:h.find('*[name*=\'add-to-cart\']').val(),product_variation_data:h.serialize()};return j.product_id?(f.preventDefault(),b(),a('.wrap-mini-cart').addClass('loading'),a('.zoo-quickview-mask').css('opacity','0'),a('#zoo-quickview-lb').css({top:'calc(50% + 150px)',opacity:'0'}),setTimeout(function(){a('#zoo-quickview-lb').remove(),a('.zoo-quickview-mask').remove()},500),a.ajax({type:'POST',dataType:'html',url:d(document.location.search,'add-to-cart',j.product_id,!1),data:j.product_variation_data,cache:!1,headers:{'cache-control':'no-cache'},error:function(k,l,m){console.log('AJAX error - SubmitForm() - '+m)},success:function(k){var l=a(k),m=l.find('.woocommerce-message'),n={'#top-cart .top-cart-total,#mini-top-cart .top-cart-total':l.find('#top-cart .top-cart-total'),'.sticky-cart .top-cart-total':l.find('.sticky-cart .top-cart-total'),'.total-cart':l.find('.total-cart'),'.woocommerce-message':m,'.wrap-mini-cart':l.find('.wrap-mini-cart')};a.each(n,function(o,p){p.length&&a(o).replaceWith(p)}),a('.wrap-mini-cart').removeClass('loading')}}),!1):void console.log('(Error): No product id found')}))})})(jQuery);